<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/tubiao.png">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"manual,","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="一、OpenGL ES 3.x概述OpenGL ES 是基于 OpenGL 三维图形 API 的子集，主要是针对手机以及 PDA（掌上电脑）等嵌入式设备设计的。 OpenGL ES 的 API 由 Khronos 组织定义并推广， Khronos 是一个图形软硬件行业协会，该协会致力于为这些 API 建立免费的开发标准。 1、 OpenGL ES3.x简介OpenGL 的应用领域较为广泛，适用于">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenGL ES 3.x概述">
<meta property="og:url" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/index.html">
<meta property="og:site_name" content="Leeyunhe">
<meta property="og:description" content="一、OpenGL ES 3.x概述OpenGL ES 是基于 OpenGL 三维图形 API 的子集，主要是针对手机以及 PDA（掌上电脑）等嵌入式设备设计的。 OpenGL ES 的 API 由 Khronos 组织定义并推广， Khronos 是一个图形软硬件行业协会，该协会致力于为这些 API 建立免费的开发标准。 1、 OpenGL ES3.x简介OpenGL 的应用领域较为广泛，适用于">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/9.jpg">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/8.png">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/10.jpg">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/11.jpg">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/12.jpg">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/13.jpg">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/14.webp">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/16.jpg">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/19.jpg">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/20.jpg">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/18.webp">
<meta property="og:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/17%E5%9D%90%E6%A0%87%E7%B3%BB.png">
<meta property="article:published_time" content="2023-04-14T13:33:11.000Z">
<meta property="article:modified_time" content="2023-04-14T13:38:52.972Z">
<meta property="article:author" content="Leeyunhe">
<meta property="article:tag" content="嵌入式">
<meta property="article:tag" content="OpenGL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/04/14/4-2-OpenGL%20ES/9.jpg">

<link rel="canonical" href="http://example.com/2023/04/14/4-2-OpenGL%20ES/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>OpenGL ES 3.x概述 | Leeyunhe</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Leeyunhe</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-notes">

    <a href="/categories/%E7%AC%94%E8%AE%B0/" rel="section"><i class="fa fa-folder-open fa-fw"></i>笔记</a>

  </li>
        <li class="menu-item menu-item-read">

    <a href="/categories/%E9%98%85%E8%AF%BB/" rel="section"><i class="fa fa-book fa-fw"></i>阅读</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>时间轴</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/04/14/4-2-OpenGL%20ES/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.png">
      <meta itemprop="name" content="Leeyunhe">
      <meta itemprop="description" content="云淡风轻拂往事，执笔从容话人生">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeyunhe">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          OpenGL ES 3.x概述
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-04-14 21:33:11 / 修改时间：21:38:52" itemprop="dateCreated datePublished" datetime="2023-04-14T21:33:11+08:00">2023-04-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>9.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="一、OpenGL-ES-3-x概述"><a href="#一、OpenGL-ES-3-x概述" class="headerlink" title="一、OpenGL ES 3.x概述"></a>一、OpenGL ES 3.x概述</h1><p>OpenGL ES 是基于 OpenGL 三维图形 API 的子集，主要是针对手机以及 PDA（掌上电脑）等嵌入式设备设计的。 OpenGL ES 的 API 由 Khronos 组织定义并推广， Khronos 是一个图形软硬件行业协会，该协会致力于为这些 API 建立免费的开发标准。</p>
<h2 id="1、-OpenGL-ES3-x简介"><a href="#1、-OpenGL-ES3-x简介" class="headerlink" title="1、 OpenGL ES3.x简介"></a>1、 OpenGL ES3.x简介</h2><p>OpenGL 的应用领域较为广泛，适用于 UNIX、 Mac OS、 Linux 以及 Windows 等几乎所有的操作系统，可以开发游戏、工业建模以及嵌入式设备应用。</p>
<p>OpenGL ES 是专门针对嵌入式设备而设计的，其实际是 OpenGL 的剪裁版本，去除了OpenGL 中许多不是必须存在的特性，如 GL_QUADS（四边形）与 GL_POLYGONS（多边形）绘制模式以及 glBegin（开始） &#x2F;glEnd（结束）操作等。</p>
<h2 id="2-OpenGL与OpenGL-ES的主要区别："><a href="#2-OpenGL与OpenGL-ES的主要区别：" class="headerlink" title="2.OpenGL与OpenGL-ES的主要区别："></a>2.OpenGL与OpenGL-ES的主要区别：</h2><span id="more"></span> 

<p>之所以会推出OpenGL-ES版本，主要是应对嵌入式环境和应用的要求。</p>
<p>早先定义OpenGL ES是OpenGL的嵌入式设备版本，但由于嵌入式设备要求的是高性能，所以一些其它纯追求高性能的设备也开始用这种API方式，比如 SONY PlayStation 3。  </p>
<p> OpenGL ES相对OpenGL删减了一切低效能的操作方式，有高性能的决不留低效能的，即只求效能不求兼容性。</p>
<p>嵌入式设备一般工作于较恶劣的环境，包括：温度、湿度、振动、冲击、酸碱腐蚀等。例如：中国的酸雨气候就给很多室外电子设备带来了新的难题，中东地区的风沙也使得美军必须采用更先进的非IT技术来保护他们的电子设备。 </p>
<p>需要人机界面的嵌入式应用，由于受环境受环境因素的影响，一般不能提供有缘电源，在有限的电能限制下工作，如何以更低的功耗完成人机交互界面，成为OpenGL必须要面对的问题，进而推出了OpenGL-ES标准。应该说在高效完成2D&#x2F;3D界面的同时，达到了降低功耗的效果。 </p>
<h2 id="3-OpenGL-ES-1-0、2-0、3-0的区别"><a href="#3-OpenGL-ES-1-0、2-0、3-0的区别" class="headerlink" title="3.OpenGL ES 1.0、2.0、3.0的区别"></a>3.OpenGL ES 1.0、2.0、3.0的区别</h2><h3 id="OpenGL-ES1-0："><a href="#OpenGL-ES1-0：" class="headerlink" title="OpenGL ES1.0："></a>OpenGL ES1.0：</h3><p> 针对固定管线硬件(fixed pipeline)，通过它内建的functions来设置诸如灯光、vertexes（图形的顶点数）、颜色、camera等等的东西。</p>
<h3 id="OpenGL-ES2-0："><a href="#OpenGL-ES2-0：" class="headerlink" title="OpenGL ES2.0："></a>OpenGL ES2.0：</h3><p> 针对可编程管线硬件(programmable pipeline)，需要自己动手编写任何功能。与此同时，2.0相比于1.0更具灵活性，功能也更强大。可以自定义顶点和像素计算，可以让表现方式更加准确。</p>
<h3 id="OpenGL-ES3-0："><a href="#OpenGL-ES3-0：" class="headerlink" title="OpenGL ES3.0："></a>OpenGL ES3.0：</h3><p> OpenGL ES3.0扩展了OpenGL ES2.0，支持许多新的渲染技术、优化和显示质量改进，包括——引入了许多和纹理相关的新功能，对着色语言进行了重大更新和支持着色器新功能的API特性，引入了多种与几何形状规范和图元渲染控制相关的新功能，引入了新的缓冲区对象，增添了许多与屏幕外渲染到帧缓冲区对象相关的新功能。具体功能在后边的文章详细说明。（可能:））</p>
<h3 id="OpenGL-ES-3-0的向后兼容新"><a href="#OpenGL-ES-3-0的向后兼容新" class="headerlink" title="OpenGL ES 3.0的向后兼容新"></a>OpenGL ES 3.0的向后兼容新</h3><p>OpenGL ES 3.0向后兼容OpenGL ES 2.0，但由于3.0&#x2F;2.0不支持1.x支持的固定功能管线，3.0&#x2F;2.0不能向后兼容1.x。</p>
<h2 id="4-EGL-x2F-EAGL"><a href="#4-EGL-x2F-EAGL" class="headerlink" title="4.EGL&#x2F;EAGL"></a>4.EGL&#x2F;EAGL</h2><p>EGL API 参考页面:<a target="_blank" rel="noopener" href="https://www.khronos.org/registry/EGL/sdk/docs/man/">https://www.khronos.org/registry/EGL/sdk/docs/man/</a>)</p>
<h3 id="4-1作用"><a href="#4-1作用" class="headerlink" title="4.1作用"></a>4.1作用</h3><p> EGL就是Embedded Graphics Library。嵌入式图形框架。 EGL是Khronos渲染API（如OpenGL ES）和原生窗口系统之间的接口（在iOS上则是EAGL）</p>
<h3 id="4-2原因"><a href="#4-2原因" class="headerlink" title="4.2原因"></a>4.2原因</h3><p>OpenGL-ES 命令需要存储渲染上下文的状态和绘制表面的支持才能完成图形图像的绘制. </p>
<ul>
<li>渲染上下文：存储相关的OpenGL-ES 状态</li>
<li>绘制表面：是用于绘制图元的表面，它指定渲染所需的缓冲区类型，比如颜色缓冲区，深度缓冲区和模板缓冲区，绘制表面还需要指定所需缓冲区的位深度</li>
</ul>
<p>因为OpenGL-ES API没有提及如何常见渲染上下文，或者渲染上下文如何连接到原生窗口系统，EGL就是 khronos 提出的OpenGL-ES 和原生窗口系统之间的接口；（ 唯⼀⽀持OpenGL ES 却不⽀持EGL 的平台是iOS。Apple 提供⾃⼰的EGL API的iOS实现,称为EAGL。 ）</p>
<h3 id="4-3EGL的功能如下："><a href="#4-3EGL的功能如下：" class="headerlink" title="4.3EGL的功能如下："></a>4.3EGL的功能如下：</h3><ul>
<li>查询并初始化设备显示商的可用显示设备</li>
<li>创建渲染表面<br> EGL创建的表面可用分为屏幕上的表面和屏幕外的表面，屏幕上的表面连接到原生窗口系统，屏幕外的表面不显示但是用作渲染表面的像素缓冲区</li>
<li>创建渲染上下文<br> EGL 的最新版本时 EGL v1.4</li>
</ul>
<h3 id="4-4使用流程"><a href="#4-4使用流程" class="headerlink" title="4.4使用流程"></a>4.4使用流程</h3><p>任何OpenGL ES应用程序都必须在开始渲染之前使用EGL执行如下任务：</p>
<img src="9.jpg" style="zoom: 80%;" />





<h2 id="5-OpenGL-ES-3-0图形管线的各个阶段"><a href="#5-OpenGL-ES-3-0图形管线的各个阶段" class="headerlink" title="5.OpenGL ES 3.0图形管线的各个阶段"></a>5.OpenGL ES 3.0图形管线的各个阶段</h2><p><img src="/2023/04/14/4-2-OpenGL%20ES/8.png"></p>
<p><img src="/2023/04/14/4-2-OpenGL%20ES/10.jpg"></p>
<h3 id="5-1顶点着色器"><a href="#5-1顶点着色器" class="headerlink" title="5.1顶点着色器"></a>5.1顶点着色器</h3><p>顶点和顶点着色器(Vertex &amp; Vertex shader)，shader 是指运行在GPU可编程管线上的程序，也就是GPU所用的编程语言，本质是一种类C语言。<br> Vertex shader 的内容包含：</p>
<ul>
<li><p>shader程序： 用来描述顶点上执⾏操作的顶点着⾊器程序源代码&#x2F;可执⾏⽂件 </p>
</li>
<li><p>shader 的输入属性，就是顶点数组提供的各个顶点的属性</p>
</li>
<li><p>uniform(统一变量)  Vertex&#x2F;Pixel shader 使用的不变的变量，如：颜色数据</p>
</li>
<li><p>采样器， 代表顶点着⾊器使⽤纹理的特殊统⼀变量类型。 </p>
<p><img src="/2023/04/14/4-2-OpenGL%20ES/11.jpg"></p>
</li>
</ul>
<p> 如图所示，可以由很多属性输入到顶点着色器，最后顶点着色器也会输出属性数据，其中gl_Position和gl_PointSize是OpenGL的内建变量。</p>
<p>在图元光栅化阶段，为每个生成的片段计算 vertex shader 的输出值，并作为输入值传递给pixel shader,<br> <strong>用于分配给每个图元顶点的Vertex shader输出每个片段值的机制被称为插值</strong> </p>
<h3 id="5-2图元装配"><a href="#5-2图元装配" class="headerlink" title="5.2图元装配"></a>5.2图元装配</h3><p>图元(Primitive):  基本的图形对象 。如：点，线，三⻆形等。</p>
<p>图元装配: 将顶点数据计算成⼀个个图元.在这个阶段会执⾏裁剪、透视分割和Viewport变换操作。</p>
<p>  对于每个单独图元及其对应的顶点， 图元装配阶段执⾏的操作包括：将顶点着⾊器的输出值执⾏裁剪、透视分割、视⼝变换后进⼊光栅化阶段 </p>
<h3 id="5-3光栅化"><a href="#5-3光栅化" class="headerlink" title="5.3光栅化"></a>5.3光栅化</h3><p> 光栅化是将<strong>图元转换为一组二维片段的过程</strong>，此后这些片段就会交给Pixel shader 处理，这些二维片段就是屏幕上可以绘制的像素。 </p>
<p><img src="/2023/04/14/4-2-OpenGL%20ES/12.jpg"></p>
<h3 id="5-4-⽚元着⾊器-x2F-⽚段着⾊器"><a href="#5-4-⽚元着⾊器-x2F-⽚段着⾊器" class="headerlink" title="5.4 ⽚元着⾊器&#x2F;⽚段着⾊器"></a>5.4 <strong>⽚元着⾊器&#x2F;⽚段着⾊器</strong></h3><p>片段着色器（Pixel shader&#x2F;Fragment shader）为片段操作实现了通用的可编程方法，它的组成如下：</p>
<ul>
<li><p>Shader 程序– 描述⽚段上执⾏操作的⽚元着⾊器程序源代码&#x2F;可执⾏⽂件 </p>
</li>
<li><p>输入变量–光栅化阶段用插值为每个片段生成的 Vertex shader 输出</p>
</li>
<li><p>输出变量– 统⼀变量(uniform)–顶点&#x2F;⽚元着⾊器使⽤的不变数据 </p>
</li>
<li><p>采样器–代表⽚元着⾊器使⽤纹理的特殊统⼀变量类型 </p>
<p><img src="/2023/04/14/4-2-OpenGL%20ES/13.jpg"></p>
</li>
</ul>
<h3 id="5-5逐片段操作"><a href="#5-5逐片段操作" class="headerlink" title="5.5逐片段操作"></a>5.5逐片段操作</h3><p><img src="/2023/04/14/4-2-OpenGL%20ES/14.webp"></p>
<ul>
<li>像素归属测试: 确定帧缓存区中位置(Xw,Yw)的像素⽬前是不是归属于OpenGL ES所有. 例如,如果⼀个显示OpenGL ES帧缓存区View被另外⼀个View 所遮蔽.则窗⼝系统可以确定被遮蔽的像素不属于OpenGL ES 上下⽂.从⽽不全显示这些像素. ⽽像素归属测试是OpenGL ES 的⼀部分,它不由开发者开⼈为控制,⽽是由OpenGL ES 内部进⾏。</li>
<li>裁剪测试: 裁剪测试确定(Xw,Yw)是否位于作为OpenGL ES状态的⼀部分裁剪矩形范围内.如果该⽚段位于裁剪区域之外,则被抛弃。</li>
<li>深度测试: 输⼊⽚段的深度值进步⽐较,确定⽚段是否拒绝测试。</li>
<li>混合: 混合将新⽣成的⽚段颜⾊与保存在帧缓存的位置的颜⾊值组合起来。</li>
<li>抖动: 抖动可⽤于最⼩化因为使⽤有限精度在帧缓存区中保存颜⾊值⽽产⽣的伪像。</li>
</ul>
<h1 id="二、环境搭建"><a href="#二、环境搭建" class="headerlink" title="二、环境搭建"></a>二、环境搭建</h1><h1 id="三、第一个OpenGL-ES-3-0程序"><a href="#三、第一个OpenGL-ES-3-0程序" class="headerlink" title="三、第一个OpenGL ES 3.0程序"></a>三、第一个OpenGL ES 3.0程序</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;esUtil.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">   <span class="comment">// Handle to a program object</span></span><br><span class="line">   GLuint programObject;</span><br><span class="line"></span><br><span class="line">&#125; UserData;</span><br><span class="line"></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">// Create a shader object, load the shader source, and</span></span><br><span class="line"><span class="comment">// compile the shader.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">GLuint <span class="title function_">LoadShader</span> <span class="params">( GLenum type, <span class="type">const</span> <span class="type">char</span> *shaderSrc )</span></span><br><span class="line">&#123;</span><br><span class="line">   GLuint shader;</span><br><span class="line">   GLint compiled;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Create the shader object,创建指定类型的新着色器对象</span></span><br><span class="line">   shader = glCreateShader ( type );</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> ( shader == <span class="number">0</span> )</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Load the shader source着色器源代码本身用glShaderSource加载到着色器对象</span></span><br><span class="line">   glShaderSource ( shader, <span class="number">1</span>, &amp;shaderSrc, <span class="literal">NULL</span> );</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Compile the shader着色器用glCompileShader函数编译</span></span><br><span class="line">   glCompileShader ( shader );</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Check the compile status确定编译的状态，打印输出生成的错误</span></span><br><span class="line">   glGetShaderiv ( shader, GL_COMPILE_STATUS, &amp;compiled );</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> ( !compiled )</span><br><span class="line">   &#123;</span><br><span class="line">      GLint infoLen = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      glGetShaderiv ( shader, GL_INFO_LOG_LENGTH, &amp;infoLen );</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> ( infoLen &gt; <span class="number">1</span> )</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="type">char</span> *infoLog = <span class="built_in">malloc</span> ( <span class="keyword">sizeof</span> ( <span class="type">char</span> ) * infoLen );</span><br><span class="line"></span><br><span class="line">         glGetShaderInfoLog ( shader, infoLen, <span class="literal">NULL</span>, infoLog );</span><br><span class="line">         esLogMessage ( <span class="string">&quot;Error compiling shader:\n%s\n&quot;</span>, infoLog );</span><br><span class="line"></span><br><span class="line">         <span class="built_in">free</span> ( infoLog );</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      glDeleteShader ( shader );</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> shader;<span class="comment">//着色器编译成功，则返回一个新的着色器对象。</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">// Initialize the shader and program object</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">Init</span> <span class="params">( ESContext *esContext )</span></span><br><span class="line">&#123;</span><br><span class="line">   UserData *userData = esContext-&gt;userData;</span><br><span class="line">    <span class="comment">//顶点着色器</span></span><br><span class="line">   <span class="type">char</span> vShaderStr[] =</span><br><span class="line">      <span class="string">&quot;#version 300 es                          \n&quot;</span></span><br><span class="line">      <span class="string">&quot;layout(location = 0) in vec4 vPosition;  \n&quot;</span></span><br><span class="line">      <span class="string">&quot;void main()                              \n&quot;</span></span><br><span class="line">      <span class="string">&quot;&#123;                                        \n&quot;</span></span><br><span class="line">      <span class="string">&quot;   gl_Position = vPosition;              \n&quot;</span></span><br><span class="line">      <span class="string">&quot;&#125;                                        \n&quot;</span>;</span><br><span class="line">	<span class="comment">/*1.声明着色器版本；</span></span><br><span class="line"><span class="comment">	2.声明一个名为vPosition的4分量向量输入属性，layout（location=0）限定符表示这个变量的位置是顶点属性0；</span></span><br><span class="line"><span class="comment">	3.声明一个main函数，表示着色器执行的开始，&#123;&#125;中是着色器主体，将vPosition输入属性拷贝到名为gl_Position的特殊输出变量。每个顶点着色器必须在gl_Position变量中输出一个位置，这个变量定义传递到管线下一个阶段的位置。*/</span></span><br><span class="line">    <span class="comment">//片断着色器</span></span><br><span class="line">   <span class="type">char</span> fShaderStr[] =</span><br><span class="line">      <span class="string">&quot;#version 300 es                              \n&quot;</span></span><br><span class="line">      <span class="string">&quot;precision mediump float;                     \n&quot;</span></span><br><span class="line">      <span class="string">&quot;out vec4 fragColor;                          \n&quot;</span></span><br><span class="line">      <span class="string">&quot;void main()                                  \n&quot;</span></span><br><span class="line">      <span class="string">&quot;&#123;                                            \n&quot;</span></span><br><span class="line">      <span class="string">&quot;   fragColor = vec4 ( 1.0, 0.0, 0.0, 1.0 );  \n&quot;</span></span><br><span class="line">      <span class="string">&quot;&#125;                                            \n&quot;</span>;</span><br><span class="line"></span><br><span class="line">   GLuint vertexShader;</span><br><span class="line">   GLuint fragmentShader;</span><br><span class="line">   GLuint programObject;</span><br><span class="line">   GLint linked;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Load the vertex/fragment shaders.编译和加载着色器</span></span><br><span class="line">   vertexShader = LoadShader ( GL_VERTEX_SHADER, vShaderStr );</span><br><span class="line">   fragmentShader = LoadShader ( GL_FRAGMENT_SHADER, fShaderStr );</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Create the program object创建一个程序对象</span></span><br><span class="line">   programObject = glCreateProgram ( );</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> ( programObject == <span class="number">0</span> )</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">	<span class="comment">//用glAttachShader将顶点着色器和片断着色器连接到对象上。</span></span><br><span class="line">   glAttachShader ( programObject, vertexShader );</span><br><span class="line">   glAttachShader ( programObject, fragmentShader );</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Link the program连接程序</span></span><br><span class="line">   glLinkProgram ( programObject );</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Check the link status检查错误</span></span><br><span class="line">   glGetProgramiv ( programObject, GL_LINK_STATUS, &amp;linked );</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> ( !linked )</span><br><span class="line">   &#123;</span><br><span class="line">      GLint infoLen = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      glGetProgramiv ( programObject, GL_INFO_LOG_LENGTH, &amp;infoLen );</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> ( infoLen &gt; <span class="number">1</span> )</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="type">char</span> *infoLog = <span class="built_in">malloc</span> ( <span class="keyword">sizeof</span> ( <span class="type">char</span> ) * infoLen );</span><br><span class="line"></span><br><span class="line">         glGetProgramInfoLog ( programObject, infoLen, <span class="literal">NULL</span>, infoLog );</span><br><span class="line">         esLogMessage ( <span class="string">&quot;Error linking program:\n%s\n&quot;</span>, infoLog );</span><br><span class="line"></span><br><span class="line">         <span class="built_in">free</span> ( infoLog );</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      glDeleteProgram ( programObject );</span><br><span class="line">      <span class="keyword">return</span> FALSE;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Store the program object.保存程序对象。对象连接成功后，可以使用程序对象进行渲染，可以调用glUseProgram ( userData-&gt;programObject )来使用程序对象</span></span><br><span class="line">   userData-&gt;programObject = programObject;</span><br><span class="line"></span><br><span class="line">   glClearColor ( <span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">0.0f</span> );</span><br><span class="line">   <span class="keyword">return</span> TRUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">// Draw a triangle using the shader pair created in Init()</span></span><br><span class="line"><span class="comment">//Draw回调函数用于绘制帧</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Draw</span> <span class="params">( ESContext *esContext )</span></span><br><span class="line">&#123;</span><br><span class="line">   UserData *userData = esContext-&gt;userData;</span><br><span class="line">   GLfloat vVertices[] = &#123;  <span class="number">0.0f</span>,  <span class="number">0.5f</span>, <span class="number">0.3f</span>,</span><br><span class="line">                            <span class="number">-0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.5f</span>,</span><br><span class="line">                            <span class="number">0.5f</span>, <span class="number">-0.5f</span>, <span class="number">-0.4f</span></span><br><span class="line">                         &#125;;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Set the viewport设置视口的原点和宽高</span></span><br><span class="line">   glViewport ( <span class="number">0</span>, <span class="number">0</span>, esContext-&gt;width, esContext-&gt;height );</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Clear the color buffer清除缓冲区，清除颜色为glClearColor指定的颜色</span></span><br><span class="line">   glClear ( GL_COLOR_BUFFER_BIT );</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Use the program object对象连接成功后，可以使用程序对象进行渲染</span></span><br><span class="line">   glUseProgram ( userData-&gt;programObject );</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Load the vertex data加载几何形状和绘制图元</span></span><br><span class="line">    <span class="comment">//三角形的顶点由vVertices数组中的三个坐标（x， y， z）指定。顶点位置使用glVertexAttribPointer加载到GL，并连接到顶点着色器生命的vPosition属性</span></span><br><span class="line">   glVertexAttribPointer ( <span class="number">0</span>, <span class="number">3</span>, GL_FLOAT, GL_FALSE, <span class="number">0</span>, vVertices );</span><br><span class="line">   glEnableVertexAttribArray ( <span class="number">0</span> );</span><br><span class="line"></span><br><span class="line">   glDrawArrays ( GL_TRIANGLES, <span class="number">0</span>, <span class="number">3</span> );<span class="comment">//告诉OpenGL ES绘制图元</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Shutdown</span> <span class="params">( ESContext *esContext )</span></span><br><span class="line">&#123;</span><br><span class="line">   UserData *userData = esContext-&gt;userData;</span><br><span class="line"></span><br><span class="line">   glDeleteProgram ( userData-&gt;programObject );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//应用程序的主入口。ESContext有一个名为userData、类型为void的成员变量，应用程序所需的所有数据保存在userData中</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">esMain</span> <span class="params">( ESContext *esContext )</span></span><br><span class="line">&#123;</span><br><span class="line">   esContext-&gt;userData = <span class="built_in">malloc</span> ( <span class="keyword">sizeof</span> ( UserData ) );<span class="comment">//分配userData</span></span><br><span class="line"></span><br><span class="line">   esCreateWindow ( esContext, <span class="string">&quot;Hello Triangle&quot;</span>, <span class="number">375</span>, <span class="number">667</span>, ES_WINDOW_RGB );<span class="comment">//创建了窗口并初始化绘图回调函数</span></span><br><span class="line">	<span class="comment">//创建顶点着色器和片断着色器,OpenGL ES 3.0程序必须至少有一个顶点着色器和一个片断着色器。</span></span><br><span class="line">   <span class="keyword">if</span> ( !Init ( esContext ) )</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="keyword">return</span> GL_FALSE;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   esRegisterShutdownFunc ( esContext, Shutdown );</span><br><span class="line">   esRegisterDrawFunc ( esContext, Draw );</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> GL_TRUE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>代码分析参见： <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/2ce67644eae8">OpenGL ES 3.0 入门 - 简书 (jianshu.com)</a> </p>
<h2 id="代码流程框架1"><a href="#代码流程框架1" class="headerlink" title="代码流程框架1"></a>代码流程框架1</h2><img src="16.jpg" style="zoom:80%;" />

<h2 id="代码流程框架2"><a href="#代码流程框架2" class="headerlink" title="代码流程框架2"></a>代码流程框架2</h2><p><img src="/2023/04/14/4-2-OpenGL%20ES/19.jpg"></p>
<h2 id="代码流程框架3"><a href="#代码流程框架3" class="headerlink" title="代码流程框架3"></a>代码流程框架3</h2><p><img src="/2023/04/14/4-2-OpenGL%20ES/20.jpg"></p>
<h1 id="四、OpenGL-ES-3-0-x2F-2-0-API查询网站"><a href="#四、OpenGL-ES-3-0-x2F-2-0-API查询网站" class="headerlink" title="四、OpenGL-ES 3.0&#x2F;2.0 API查询网站"></a>四、OpenGL-ES 3.0&#x2F;2.0 API查询网站</h1><p>OpenGL-ES 3.0 API：<a target="_blank" rel="noopener" href="https://www.khronos.org/registry/OpenGL-Refpages/es3.0/">https://www.khronos.org/registry/OpenGL-Refpages/es3.0/</a></p>
<p>OpenGL-ES 2.0 API：<a target="_blank" rel="noopener" href="https://registry.khronos.org/OpenGL-Refpages/es2.0/">https://registry.khronos.org/OpenGL-Refpages/es2.0/</a></p>
<h1 id="五、坐标系的转换"><a href="#五、坐标系的转换" class="headerlink" title="五、坐标系的转换"></a>五、坐标系的转换</h1><p>1、OpenGL坐标系</p>
<p>2、纹理坐标系</p>
<p> 2D纹理是一个图像数据的二维数组。一个纹理单独数据元素称作“纹素”(Texel)。图像中的每个纹素根据基本格式和数据类型指定。如果用2D纹理渲染时，纹理坐标用作图像中的索引。2D纹理的纹理坐标用一对2D坐标(s,t)或者(u,v)来表示，这些坐标用于查找一个纹理贴图的规范化坐标。 </p>
<p><img src="/2023/04/14/4-2-OpenGL%20ES/18.webp"></p>
<p> 纹理图像的左下坐标由(0.0,0.0)决定，右上角坐标由(1.0,1.0)指定。在[0.0,1.0]之外的坐标是允许的，在区间之外的纹理读取行为由纹理包装模式决定。 </p>
<p>3、屏幕坐标系</p>
<p><img src="/2023/04/14/4-2-OpenGL%20ES/17%E5%9D%90%E6%A0%87%E7%B3%BB.png"></p>
<p>裁剪： 限制纹理坐标的取值范围来实现裁剪的效果 </p>
<h1 id="六、纹理对象的创建与加载"><a href="#六、纹理对象的创建与加载" class="headerlink" title="六、纹理对象的创建与加载"></a>六、纹理对象的创建与加载</h1><h2 id="1-本地资源"><a href="#1-本地资源" class="headerlink" title="1.本地资源"></a>1.本地资源</h2><p>OpenCv读取，然后绑定纹理</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">int</span> <span class="title">LoadTextures</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string name;</span><br><span class="line">    cv::Mat image;</span><br><span class="line">	GLuint LoadingTexture；</span><br><span class="line">        </span><br><span class="line">    name = <span class="built_in">string</span>(<span class="string">&quot;../&quot;</span> + <span class="string">&quot;resource/Loadingpicture-&quot;</span> + <span class="built_in">to_string</span>(<span class="number">1</span>) + <span class="string">&quot;.png&quot;</span>;<span class="comment">//读取UI文件资源路径</span></span><br><span class="line">    image = cv::<span class="built_in">imread</span>(name, cv::IMREAD_UNCHANGED);<span class="comment">//OpenCv读取文件</span></span><br><span class="line">    <span class="keyword">if</span>(image.data == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">PRINT</span>(<span class="string">&quot;%s::%d Load Loadingpicture.png Failed \n&quot;</span>,	__FILE__,  __LINE__);   </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* Genarate Texture  */</span></span><br><span class="line">    <span class="built_in">glGenTextures</span>(<span class="number">1</span>, &amp;LoadingTexture);<span class="comment">//生成纹理名称</span></span><br><span class="line">    <span class="built_in">glBindTexture</span>(GL_TEXTURE_2D, LoadingTexture);<span class="comment">//绑定指定纹理到目标</span></span><br><span class="line">    <span class="built_in">glTexImage2D</span>(GL_TEXTURE_2D, <span class="number">0</span>, GL_RGBA,image.cols, image.rows, <span class="number">0</span>, GL_RGBA, GL_UNSIGNED_BYTE, image.data);<span class="comment">//指定2D纹理对象（目标纹理GL_TEXTURE_2D）</span></span><br><span class="line">    <span class="comment">/* Linear Filtering */</span></span><br><span class="line">    <span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);</span><br><span class="line">    <span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span><br><span class="line">    <span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);</span><br><span class="line">    <span class="built_in">glTexParameteri</span>(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);</span><br><span class="line">    <span class="built_in">glBindTexture</span>(GL_TEXTURE_2D, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">｝</span><br></pre></td></tr></table></figure>

<h2 id="2-缓冲区资源"><a href="#2-缓冲区资源" class="headerlink" title="2.缓冲区资源"></a>2.缓冲区资源</h2><p>创建EGLImage对象，然后绑定纹理</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>


    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" rel="tag"># 嵌入式</a>
              <a href="/tags/OpenGL/" rel="tag"># OpenGL</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/04/14/4-1-OpenGL/" rel="prev" title="什么是OpenGL?">
      <i class="fa fa-chevron-left"></i> 什么是OpenGL?
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/04/14/4-3-OpenGL%E5%B8%B8%E7%94%A8API%E5%87%BD%E6%95%B0/" rel="next" title="OpenGL常用API函数">
      OpenGL常用API函数 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81OpenGL-ES-3-x%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">一、OpenGL ES 3.x概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81-OpenGL-ES3-x%E7%AE%80%E4%BB%8B"><span class="nav-number">1.1.</span> <span class="nav-text">1、 OpenGL ES3.x简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-OpenGL%E4%B8%8EOpenGL-ES%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="nav-number">1.2.</span> <span class="nav-text">2.OpenGL与OpenGL-ES的主要区别：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-OpenGL-ES-1-0%E3%80%812-0%E3%80%813-0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">1.3.</span> <span class="nav-text">3.OpenGL ES 1.0、2.0、3.0的区别</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenGL-ES1-0%EF%BC%9A"><span class="nav-number">1.3.1.</span> <span class="nav-text">OpenGL ES1.0：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenGL-ES2-0%EF%BC%9A"><span class="nav-number">1.3.2.</span> <span class="nav-text">OpenGL ES2.0：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenGL-ES3-0%EF%BC%9A"><span class="nav-number">1.3.3.</span> <span class="nav-text">OpenGL ES3.0：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OpenGL-ES-3-0%E7%9A%84%E5%90%91%E5%90%8E%E5%85%BC%E5%AE%B9%E6%96%B0"><span class="nav-number">1.3.4.</span> <span class="nav-text">OpenGL ES 3.0的向后兼容新</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-EGL-x2F-EAGL"><span class="nav-number">1.4.</span> <span class="nav-text">4.EGL&#x2F;EAGL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1%E4%BD%9C%E7%94%A8"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2%E5%8E%9F%E5%9B%A0"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2原因</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3EGL%E7%9A%84%E5%8A%9F%E8%83%BD%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3EGL的功能如下：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4使用流程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-OpenGL-ES-3-0%E5%9B%BE%E5%BD%A2%E7%AE%A1%E7%BA%BF%E7%9A%84%E5%90%84%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="nav-number">1.5.</span> <span class="nav-text">5.OpenGL ES 3.0图形管线的各个阶段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1%E9%A1%B6%E7%82%B9%E7%9D%80%E8%89%B2%E5%99%A8"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1顶点着色器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2%E5%9B%BE%E5%85%83%E8%A3%85%E9%85%8D"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2图元装配</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3%E5%85%89%E6%A0%85%E5%8C%96"><span class="nav-number">1.5.3.</span> <span class="nav-text">5.3光栅化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-%E2%BD%9A%E5%85%83%E7%9D%80%E2%BE%8A%E5%99%A8-x2F-%E2%BD%9A%E6%AE%B5%E7%9D%80%E2%BE%8A%E5%99%A8"><span class="nav-number">1.5.4.</span> <span class="nav-text">5.4 ⽚元着⾊器&#x2F;⽚段着⾊器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5%E9%80%90%E7%89%87%E6%AE%B5%E6%93%8D%E4%BD%9C"><span class="nav-number">1.5.5.</span> <span class="nav-text">5.5逐片段操作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">2.</span> <span class="nav-text">二、环境搭建</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E7%AC%AC%E4%B8%80%E4%B8%AAOpenGL-ES-3-0%E7%A8%8B%E5%BA%8F"><span class="nav-number">3.</span> <span class="nav-text">三、第一个OpenGL ES 3.0程序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E6%B5%81%E7%A8%8B%E6%A1%86%E6%9E%B61"><span class="nav-number">3.1.</span> <span class="nav-text">代码流程框架1</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E6%B5%81%E7%A8%8B%E6%A1%86%E6%9E%B62"><span class="nav-number">3.2.</span> <span class="nav-text">代码流程框架2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E6%B5%81%E7%A8%8B%E6%A1%86%E6%9E%B63"><span class="nav-number">3.3.</span> <span class="nav-text">代码流程框架3</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E3%80%81OpenGL-ES-3-0-x2F-2-0-API%E6%9F%A5%E8%AF%A2%E7%BD%91%E7%AB%99"><span class="nav-number">4.</span> <span class="nav-text">四、OpenGL-ES 3.0&#x2F;2.0 API查询网站</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E5%9D%90%E6%A0%87%E7%B3%BB%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="nav-number">5.</span> <span class="nav-text">五、坐标系的转换</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E7%BA%B9%E7%90%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%8A%A0%E8%BD%BD"><span class="nav-number">6.</span> <span class="nav-text">六、纹理对象的创建与加载</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%9C%AC%E5%9C%B0%E8%B5%84%E6%BA%90"><span class="nav-number">6.1.</span> <span class="nav-text">1.本地资源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E7%BC%93%E5%86%B2%E5%8C%BA%E8%B5%84%E6%BA%90"><span class="nav-number">6.2.</span> <span class="nav-text">2.缓冲区资源</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Leeyunhe"
      src="/images/touxiang.png">
  <p class="site-author-name" itemprop="name">Leeyunhe</p>
  <div class="site-description" itemprop="description">云淡风轻拂往事，执笔从容话人生</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">15</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://music.163.com/#/user/home?id=106127099" title="Music → https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;106127099" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>Music</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Leeyunhe</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">171k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:35</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>


<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/click.js"></script>